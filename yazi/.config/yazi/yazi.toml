[opener]
edit = [
  { run = 'nvim "$@"', block = true },
]
read = [
  { run = 'fancy-cat "$@"', desc = "Open" }
]
emacs = [
  { run = 'emacs "$@"', orphan = true, desc = "Open in Emacs"}
]
csv = [
  { run = 'csvlens "$@"', block = true }
]
quicklook = [
  { run = 'shell -- qlmanage -p "$@"', orphan = true, desc = "QuickLook" }
]

[open]
prepend_rules = [
  { name = "*.pdf", use = "read" },
  { name = "*.jpg", use = "QuickLook" },
  { name = "*.png", use = "QuickLook" },
  { name = "*.qmd", use = "edit" },
  { name = "*.org", use = "emacs" },
  { name = "*.csv", use = "csv"},
  { mime = "folder", use = "nvim" },
]

[manager]
linemode = "size"
ratio = [0, 5, 5]

[[manager.prepend_keymap]]
on   = "!"
run  = 'shell "$SHELL" --block --confirm'
desc = "Open shell here"

[preview]
tab_size        = 2
max_width       = 2400
max_height      = 3600
image_quality   = 75

# open with QuickLook on macos
[[manager.prepend_keymap]]
on = "<C-p>"
run = 'shell -- qlmanage -p "$@"'
